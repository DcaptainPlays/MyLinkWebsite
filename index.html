<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DcaptainPlays Website — Download Addons and More</title>
  <link rel="stylesheet" href="style.css" />

  <script>
    // Prevent split-screen if opened inside Linkvertise frame
    if (window.top !== window.self) {
      window.top.location = window.location.href;
    }
  </script>
</head>

<body>
  <main class="container">
    <h1>Welcome to DcaptainPlays</h1>
    <p id="status">Checking access...</p>

    <div id="content" class="hidden">
      <p>Access granted ✅ You came through Linkvertise!</p>
      <p>This is your protected website content.</p>
    </div>
  </main>

  <script>
    const linkvertiseURL = "https://link-hub.net/1408907/57D6CaRirKtJ";
    const validAuth = "dcaptain123";

    const urlParams = new URLSearchParams(window.location.search);
    const auth = urlParams.get("auth");

    const sessionKey = "dcaptain_access_granted";

    if (sessionStorage.getItem(sessionKey) === "true") {
      // Already unlocked in this session
      document.getElementById("status").innerText = "Access granted ✅";
      document.getElementById("content").classList.remove("hidden");
    } else if (auth === validAuth) {
      // First-time access with the correct key
      sessionStorage.setItem(sessionKey, "true");
      history.replaceState(null, "", window.location.pathname); // remove ?auth= from URL
      document.getElementById("status").innerText = "Access granted ✅";
      document.getElementById("content").classList.remove("hidden");
    } else {
      // No valid session or key -> back to Linkvertise
      window.location.href = linkvertiseURL;
    }
  </script>
</body>
</html>
